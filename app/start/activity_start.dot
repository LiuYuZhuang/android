digraph ActivityStart {

  subgraph Launcher {
    node [style=filled];
    color = blue;
    label = "Launcher";

    a1[label="ActivityManagerProxy.startActivity"]
  }

  subgraph system_server {
    node [style=filled];
    color = lightgrey;
    label = "system_server";

    b1[label="ActivityManagerService.startProccess"]

    b2[label="ActivityStackSupervisor.realStartActivityLocked"]
    b3[label="ClientLifecycleManager.scheduleTransaction"]
    b4[label="ApplicationThreadProxy.scheduleTransaction"]

    b2 -> b3 -> b4;
  }

  subgraph zygote {
    node [style=filled];
    color = lightgrey;
    label = "zygote";

    c1[label="zygote::fork"]
  }

  subgraph AppMainThread {
    node [style=filled];
    color = lightgrey;

    d1[label="ActivityThread.main"]
    d2[label="ActivityManagerProxy.attachApplication"]

    d3[label="ActivityThread.handleLunchActivity"]
    d4[label="ActivityThread.performLaunchActivity"]
    d5[label="Activity.onCreate"]

    d1 -> d2;
    d3 -> d4 -> d5;
  }

  start -> a1;
  a1 -> b1;
  b1 -> c1;
  c1 -> d1;
  d2 -> b2;
  b4 -> d3;
  d5 -> end;

  start [shape=Mdiamond];
  end [shape=Msquare];
}